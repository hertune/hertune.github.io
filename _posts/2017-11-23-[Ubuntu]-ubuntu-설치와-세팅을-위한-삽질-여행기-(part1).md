---
layout: post
title: "[Ubuntu] ubuntu 설치와 세팅을 위한 삽질 여행기 (part1)"
date: 2017-11-23
image: ''
description:
tags:
- ubuntu
- setting
- 한글
- boot
- partition
- GRUB
- 재설치
- 포맷
categories:
- Ubuntu
twitter_text: "[Ubuntu] ubuntu 설치와 세팅을 위한 삽질 여행기 (part1)"
---

  이틀 전부터 컴퓨터 환경설정을 위해 `ubuntu`를 설치했다. 무슨 os 설치 하나 하는데 이틀이나 걸릴까...할 수도 있지만 나에겐 험난한 과정이었다.  

  글이 길어질 것 같아서 part를 나누어 첫번째는 기존 문제점들에 대해 이야기를 하고, 두번째는 우분투 설치 이후 세팅에 대해 이야기를 하려고 한다.

  현재 어느정도 정리가 되었기에 이제야 글을 남길 수 있다. 본론에 들어가기 전에 설치하면서 겪었던 난관들은 다음과 같다.  

  - grub에서 기존 `windows 7`을 못잡아 주는 문제
  - ubuntu 설치시 파티션 문제
  - ubuntu 설치 후 한글 키보드 세팅 문제

# 1. GRUB에서 기존 windows7을 못잡아 주는 문제

  내 PC에는 ~~잊혀진~~Linux가 이미 설치되어 있었다. `CentOS6`
  재작년쯤 windows를 포맷하면서 듀얼부팅으로 세팅해놨던 녀석인데 역시나 사용을 안했다. ~~나도 설치해놓으면 사용할 줄 알았다.~~  

  과정을 거치면서 가장 큰 잘못은  **파티션만 삭제하고 GRUB을 지우지 않았던 것**이었다. 아직도 난 이해는 안가지만 `CentOS`는 이상하게 버전업을 하면서 부팅할 수 있는 OS가 늘어나곤 했다.   

  어쨋든 부팅할 때마다 계속 몇가지 버전이 있는 OS들을 보자니 꼴보기 싫어서 그냥 파티션을 삭제해버렸다. 그리고 `ubuntu`를 설치하면서 **남는 공간에 설치하는 기본설치**라는 두번째 잘못을 한다.

  `ubuntu`를 설치하고 보니 `ubuntu`만의 GRUB이 생성되어 보라색 화면이 날 기다리고 있었다. ~~난 정말 보라색이 싫다.~~ GRUB에서 `windows7`이 보이길래 냉큼 booting 했으나 결과는 무한 부팅으로 돌아왔다. 일반적으로 보면 `GRUB RESCUE > ` 라는 커맨드 입력하는 창이 떠 있어야 하는데 이쪽으로 넘어가지 않았다.

  검색을 해서 찾아보니 나와 같은 증상을 겪는 이들은 글을 적을 수 없었는지 나오지 않았다. 결국 다시 Ubuntu를 삭제했는데 그결과 부팅 화면은 GRUB도 아닌 검은 바탕에 `under bar(_)` 하나만 덜렁~ 껌뻑껌뻑 댔다.  

  이 과정에서 `windows7`을 복구 cd를 통해 복구하는 것과, 많은 사람들이 추천하는 boot-repair라는 프로그램을 실행해봤는데 똑같은 결과만 보일 뿐 ~~혹은 내가 할줄 모르는 것일 뿐...~~ 아무런 해결책이 되지 못했다.  

  몇가지 사실을 알게 된 것은

  - `windows8` 버전부터 uefi라는 BIOS 대체제가 생기고 legacy와 uefi 중 하나를 택해서 설치해야 한다는 것
  - GRUB의 bootloader를 기존 os에 있는 부분에 설치해야 한다는 것
  - 내 컴퓨터는 너무 낡고 찾아보니 메인보드도 그리 좋은게 아니었다는 것

  이었다. 그래서 과감히 나는 백업도 안한채 `windows7`를 날리고 말았다.

# 2. ubuntu 설치시 파티션 문제

  `ubuntu`를 동경하면서도 설치를 두려워했던 이유 중 하나는 바로 이 파티션 문제이다. 여러가지 검색들을 통해 찾아보았으나 정형화된 방법은 없었다. 만약, 모르거나 이해가 안간다면 파티션을 나누지 말고 기본설치를 추천한다.

  글을 정리하기 위해 기존  파티션은 기본적으로 최소 4부분으로 나눈다. Linux가 설치되는 path인 `/` 과 `swap`이라는 주 파티션 영역, 그리고 백업을 위한 `/home`과 `/boot` 논리 파티션 영역이다.

  `ubuntu 17.10`인 최신 버전에서는 `swap` 부분이 사라졌다고 한다. 그리고 저렇게 나누는 이유는 과거 용량이 적었던 하드디스크를 최적화하여 용량을 늘리고 줄이기 위해 설정을 하는 것이다.

  윈도우는 그냥 설치만 하면 되는데 리눅스는 왜 이렇게 설치부터 복잡하고, 사람들 말이 다 달라서 찾다보면 **'그냥 사용 용도에 따라 쓰는거지 확실한 정답은 없구나'**라고 깨닫게 된다.

  내 개인적은 세팅은 나름 용량을 고려하고, 혹시 모를 사태에 대비하여 `/` 부분은 30GB 정도, `swap`은 보통 메모리가 부족할 때 끌어다 쓰는 부분이라 메모리의 1배~2배 정도, `/home`은 20GB 정도 설정하여 세팅했다.

  얼마나 많이 사용할지 모르겠지만 용량이 부족하면 '뭐...그때가서 다시 설치하지'라는 안일한 마인드로 세팅했다. (사실 컴퓨터는 1년에 한번쯤 밀어줘야 하지 않은가?)

# 3. ubuntu 설치 후 한글 키보드 세팅문제

  시험삼아 이 글을 `ubuntu`에서 적고 있는데 한글세팅은 난이도 별 다섯개 정도 된다. 사실 따라하다보면 그다지 큰 문제는 아니지만 `ubuntu` 버전에 따라 여러가지 오류가 있을 수 있다.

  특히 내 PC 키보드는 최악이라 가끔가다 숫자키들이 안눌리는 경우도 있다. 먼저 설치는 영문으로 하도록 하자. 한글이 우리나라 글자이며, 세계적으로 자랑스러운 발명품 중 하나지만 Linux를 사용한다는 것은 주로 터미널을 많이 이용 할거라는 이유로 path 입력시 한글이 안되면 난감한 상황이 발생한다.

  기존 `ubuntu`의 기본 입력 방식은 `iBus` 였는데 이것 또한 시간이 흐르면서 `fcitx`로 바뀌었다. `fcitx`를 설치하는 방법은 간단하다.

  {% highlight bash %}
  sudo apt-get install fcitx-hangul
  {% endhighlight %}

  이후 `setting` > `Region & Language` 탭을 보면 자신이 설정한 언어와 포맷, 그리고 Input Source가 나와있다. 그리고 그 바로 밑에 `Manage Installed Language`가 있는데 만약 한글이 설치되어 있지 않다면 이 부분에서 한글을 설치해준다.

  ![ubuntuLanguage_setting_1](https://farm5.staticflickr.com/4540/37883152704_f3196afa33_z.jpg)

  그리고 `Keyborad input method system` 부분을 `fcitx`로 바꿔 준다. 이후 재부팅을 해주면 한글 설치가 끝난다.

  만약 기본적인 언어를 한국어를 사용하고 싶다면 이 부분에서 (언어팩을 다운 받았다는 가정하에)  Language에 있는 한국어를 맨 윗부분에 설정해주면 된다.

  이제 키보드 세팅을 해주어야 하는데, 이는  `Applications` > `fcitx configuration`으로 이동한다.

  ![ubuntuLanguage_setting_2](https://farm5.staticflickr.com/4562/26823963159_06c56abbd0_b.jpg)

  처음 `Input Method` 탭에 다음과 같은 창이 뜨는데 English(US) 하나만 설정되어 있기 때문에 이곳에 `+`를 눌러 `Hangul`을 추가한다.

  ![ubuntuLanguage_setting_3](https://farm5.staticflickr.com/4572/26823962979_ee2ac6f4e1_b.jpg)

  그 다음 `Input Method` 탭 바로 옆에 `Global Config` 에서 `Trigger Input Method`에 각자 원하는 `Hotkey`을 입력해주면 세팅이 끝난다.
